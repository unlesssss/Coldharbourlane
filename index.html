<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Coldharbour Lane UG</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">

  <style>
    :root{
      --pad: clamp(16px, 3vw, 48px);
      --small: clamp(11px, 1vw, 14px);
      --base: clamp(12px, 1.1vw, 15px);
      --gap: clamp(12px, 2vw, 20px);
    }

    /* === Coming Soon overlay (unused but kept) === */
    .overlay { position: fixed; inset: 0; z-index: 9999; display: grid; place-items: center;
      background: rgba(255,255,255,0.9); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
    .overlay .card{ text-align:center; padding: 28px 32px; border: 1px solid #000; background:#fff;
      max-width: 520px; margin: 0 16px; font-family: "Times New Roman", Times, serif; }
    .overlay h1{ margin:0 0 8px 0; font-size: 20px; letter-spacing:.02em; }
    .overlay p{ margin:0; font-size: 14px; line-height:1.4; }

    /* === Page styles === */
    html, body {
      margin: 0; height: 100%; overflow: hidden;
      background: #fff; font-family: "Times New Roman", Times, serif; color: #000;
    }
    .page { position: relative; height: 100vh; width: 100vw; }

    .brand {
      position: absolute; top: var(--pad); left: var(--pad);
      line-height: 1.2; font-size: var(--small); user-select: none;
    }
    .center {
      position: absolute; inset: 0;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      gap: var(--gap); padding: calc(var(--pad) * 2) var(--pad); text-align: center;
    }

    /* Media area */
    .video-container { max-width: 520px; width: 100%; position: relative; }
    .video-container video,
    .video-container img { width: 100%; height: auto; display: block; }

    /* We toggle which one is visible */
    .show-image video { display: none; }
    .show-image img   { display: block; }
    .hide-image img   { display: none; }

    .text-block { margin-top: 32px; }
    .section-title { margin: 0 0 4px 0; font-size: var(--base); font-style: italic; font-weight: 700; }
    .clients, .address { list-style: none; margin: 0; padding: 0; font-size: var(--base); line-height: 1.4; }
    .clients li { cursor: pointer; }
    .clients li:focus { outline: 1px dotted #000; outline-offset: 2px; }
    .address { margin-top: 20px; }
    .address a, .address a:visited { color: inherit; text-decoration: none; }
  </style>
</head>
<body>
  <div class="page">
    <div class="brand">
      <div>Coldharbour Lane UG</div>
      <div>&copy; 2025</div>
    </div>

    <main class="center">
      <div class="video-container hide-image" id="mediaBox" aria-live="polite">
        <!-- Default video -->
        <video id="heroVideo" autoplay loop muted playsinline>
          <source src="COLDHARBOURLANEUK.mov" type="video/quicktime">
          <source src="COLDHARBOURLANEUK.mp4" type="video/mp4">
          Ihr Browser unterst√ºtzt das Video-Tag nicht.
        </video>
        <!-- Swapped-in client image -->
        <img id="clientImage" alt="" />
      </div>

      <div class="text-block">
        <h2 class="section-title">Clients:</h2>
        <ul class="clients" id="clientsList">
          <li tabindex="0" data-img="032c.jpeg">032c</li>
          <li tabindex="0" data-img="Kadewe.pdf">KaDeWe</li>
          <li tabindex="0" data-img="dalstonjazzbar.jpeg">Dalston Jazz Bar</li>
          <li tabindex="0" data-img="ernstbusch.jpeg">Ernst Busch Berlin</li>
          <li tabindex="0" data-img="langstonuibel.jpeg">Langston Uibel</li>
        </ul>

        <ul class="address">
          <li>Sportforumstrasse 7</li>
          <li>14053 Berlin</li>
          <li><a href="tel:+4915228007373">+49&nbsp;152&nbsp;2800&nbsp;73&nbsp;73</a></li>
          <li><a href="mailto:pele@coldharbourlane.com">pele@coldharbourlane.com</a></li>
        </ul>
      </div>
    </main>
  </div>

  <script>
    (function(){
      const mediaBox = document.getElementById('mediaBox');
      const imgEl    = document.getElementById('clientImage');
      const videoEl  = document.getElementById('heroVideo');
      const list     = document.getElementById('clientsList');

      // Helper: show an image (supports jpg/png and also shows first page of a PDF as image via <embed> fallback note below)
      function showImage(src){
        // If it's a PDF, try to display it via the browser's built-in renderer as an image fallback.
        // Easiest approach: for PDFs we replace the image with an <embed> temporarily.
        if (src.toLowerCase().endsWith('.pdf')) {
          // Create or reuse an <embed>
          let emb = mediaBox.querySelector('embed#pdfPreview');
          if (!emb) {
            emb = document.createElement('embed');
            emb.id = 'pdfPreview';
            emb.type = 'application/pdf';
            emb.style.width = '100%';
            emb.style.height = '100%';
            emb.style.minHeight = imgEl.clientHeight ? imgEl.clientHeight + 'px' : '0';
            mediaBox.appendChild(emb);
          }
          emb.src = src + '#page=1&zoom=page-width';
          imgEl.removeAttribute('src');
          mediaBox.classList.add('show-image');
          mediaBox.classList.remove('hide-image');
          videoEl.pause();
          return;
        } else {
          // Remove any PDF embed if present
          const emb = mediaBox.querySelector('embed#pdfPreview');
          if (emb) emb.remove();
        }

        imgEl.src = src;
        imgEl.alt = ''; // decorative
        mediaBox.classList.add('show-image');
        mediaBox.classList.remove('hide-image');
        videoEl.pause();
      }

      function showVideo(){
        // Remove any PDF embed if present
        const emb = mediaBox.querySelector('embed#pdfPreview');
        if (emb) emb.remove();

        mediaBox.classList.remove('show-image');
        mediaBox.classList.add('hide-image');
        // resume video
        if (videoEl.paused) {
          // on iOS, autoplay muted should work; ignore errors
          videoEl.play().catch(()=>{});
        }
      }

      // Preload images for snappy swaps (ignore PDF)
      Array.from(list.querySelectorAll('li')).forEach(li=>{
        const src = li.getAttribute('data-img');
        if (src && !src.toLowerCase().endsWith('.pdf')) {
          const i = new Image(); i.src = src;
        }
      });

      // Desktop: hover in/out
      list.addEventListener('mouseover', (e)=>{
        const li = e.target.closest('li[data-img]');
        if (!li) return;
        showImage(li.dataset.img);
      });
      list.addEventListener('mouseout', (e)=>{
        const to = e.relatedTarget;
        if (!list.contains(to)) showVideo();
      });

      // Keyboard focus (accessibility)
      list.addEventListener('focusin', (e)=>{
        const li = e.target.closest('li[data-img]');
        if (li) showImage(li.dataset.img);
      });
      list.addEventListener('focusout', (e)=>{
        const to = e.relatedTarget;
        if (!list.contains(to)) showVideo();
      });

      // Mobile: tap to show, tap outside to revert
      list.addEventListener('touchstart', (e)=>{
        const li = e.target.closest('li[data-img]');
        if (!li) return;
        e.stopPropagation();
        showImage(li.dataset.img);
      }, {passive:true});

      // Clicking/tapping a client also shows the image
      list.addEventListener('click', (e)=>{
        const li = e.target.closest('li[data-img]');
        if (!li) return;
        e.stopPropagation();
        showImage(li.dataset.img);
      });

      // Tap/click anywhere else -> back to video
      document.addEventListener('touchstart', (e)=>{
        if (!list.contains(e.target) && !mediaBox.contains(e.target)) showVideo();
      }, {passive:true});
      document.addEventListener('click', (e)=>{
        if (!list.contains(e.target) && !mediaBox.contains(e.target)) showVideo();
      });
    })();
  </script>
</body>
</html>
